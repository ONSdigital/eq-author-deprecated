webpackJsonp([2,5],{626:function(e,t,n){"use strict";function r(e){return v.js_beautify.call(void 0,JSON.stringify(e),{indent_size:2})}function i(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.put.call(void 0,m.fetchSchemaRequest.call());case 2:return n.next=4,h.call.call(void 0,w.a,"/api/v1/schema/"+e.payload.schemaID+"/");case 4:if(t=n.sent,t.err){n.next=10;break}return n.next=8,h.put.call(void 0,m.fetchSchemaSuccess.call(void 0,r(t.data)));case 8:n.next=14;break;case 10:return n.next=12,h.put.call(void 0,m.fetchSchemaFailure.call(void 0,t.err));case 12:console.error(t.err.response),void 0!==t.err.response?void 0!==t.err.response.body?t.err.response.text().then(function(e){return alert("Error: \n"+e)}):(window.alert("There was a problem loading this schema. See the Console for errors."),console.error(t.err.response)):window.alert("Error: Server didn't return a response");case 14:case"end":return n.stop()}},g[0],this)}function s(e){var t,n,r,i,s;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload.schemaID,n="/api/v1/schema/",r="POST",void 0!==t&&(n=""+n+t+"/",r="PUT"),a.next=6,h.select.call(void 0,y.a);case 6:return i=a.sent,a.next=9,h.put.call(void 0,m.saveSchemaRequest.call());case 9:return a.next=11,h.call.call(void 0,w.a,n,{method:r,headers:{Accept:"application/json","Content-Type":"application/json"},body:i});case 11:if(s=a.sent,s.err){a.next=22;break}return a.next=15,f.delay.call(void 0,500);case 15:return a.next=17,h.put.call(void 0,m.saveSchemaSuccess.call());case 17:if(void 0!==t){a.next=20;break}return a.next=20,h.call.call(void 0,T.browserHistory.replace,"/editor/"+s.data);case 20:a.next=25;break;case 22:return a.next=24,h.put.call(void 0,m.saveSchemaFailure.call(void 0,s.err.response));case 24:void 0!==s.err.response?void 0!==s.err.response.body?s.err.response.text().then(function(e){return alert("Error: \n"+e)}):(window.alert("There was a problem saving this schema. See the Console for errors."),console.error(s.err.response)):window.alert("Error: Server didn't return a response");case 25:case"end":return a.stop()}},g[1],this)}function a(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,h.take.call(void 0,l.h);case 3:return e=t.sent,t.next=6,h.call.call(void 0,i,e);case 6:t.next=0;break;case 8:case"end":return t.stop()}},g[2],this)}function o(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,h.take.call(void 0,l.i);case 3:return e=t.sent,t.next=6,h.call.call(void 0,s,e);case 6:t.next=0;break;case 8:case"end":return t.stop()}},g[3],this)}function _(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.race.call(void 0,[[h.call.call(void 0,a),h.call.call(void 0,o)],h.take.call(void 0,c.LOCATION_CHANGE)]);case 2:case"end":return e.stop()}},g[4],this)}var l=n(258),c=n(108),u=c&&c.__esModule?function(){return c["default"]}:function(){return c};Object.defineProperty(u,"a",{get:u});var h=n(651),p=h&&h.__esModule?function(){return h["default"]}:function(){return h};Object.defineProperty(p,"a",{get:p});var f=n(262),d=f&&f.__esModule?function(){return f["default"]}:function(){return f};Object.defineProperty(d,"a",{get:d});var m=n(642),y=n(643),T=n(165),b=T&&T.__esModule?function(){return T["default"]}:function(){return T};Object.defineProperty(b,"a",{get:b});var v=n(667),E=v&&v.__esModule?function(){return v["default"]}:function(){return v};Object.defineProperty(E,"a",{get:E});var w=n(645);t.beautifySchema=r,t.loadSchema=i,t.saveSchema=s,t.loadSchemaWatcher=a,t.saveSchemaWatcher=o,t.editorData=_;var g=[i,s,a,o,_].map(regeneratorRuntime.mark);t["default"]=[_]},642:function(e,t,n){"use strict";function r(e){return{type:h.a,payload:{value:e}}}function i(e){return{type:h.h,payload:{schemaID:e}}}function s(e){return{type:h.i,payload:{schemaID:e}}}function a(){return{type:h.b,payload:{value:"//Loading schema"}}}function o(e){return{type:h.c,payload:{value:e}}}function _(e){return{type:h.d,error:e,payload:{value:"//There was an error loading the schema"}}}function l(){return{type:h.e}}function c(){return{type:h.f}}function u(){return{type:h.g}}var h=n(258);t.changeValue=r,t.loadSchema=i,t.saveSchema=s,t.fetchSchemaRequest=a,t.fetchSchemaSuccess=o,t.fetchSchemaFailure=_,t.saveSchemaRequest=l,t.saveSchemaSuccess=c,t.saveSchemaFailure=u},643:function(e,t,n){"use strict";var r=function(e){return e.get("editor").get("value")};Object.defineProperty(t,"a",{configurable:!1,enumerable:!0,get:function(){return r}});var i=function(e){return e.get("editor").get("isSaving")};Object.defineProperty(t,"b",{configurable:!1,enumerable:!0,get:function(){return i}});var s=function(e){return e.get("editor").get("isFetching")};Object.defineProperty(t,"c",{configurable:!1,enumerable:!0,get:function(){return s}})},645:function(e,t,n){"use strict";(function(e){function r(e){return e.json()}function i(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}function s(t,n){return e(t,n).then(i).then(r).then(function(e){return{data:e}})["catch"](function(e){return{err:e}})}var a=n(652),o=a&&a.__esModule?function(){return a["default"]}:function(){return a};Object.defineProperty(o,"a",{get:o}),t.a=s}).call(t,n(647))},647:function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return d.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function s(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function o(e){var t=new FileReader;return t.readAsArrayBuffer(e),a(t)}function _(e){var t=new FileReader;return t.readAsText(e),a(t)}function l(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(d.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(d.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(d.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(e){if(!d.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d.blob?(this.blob=function(){var e=s(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(o)},this.text=function(){var e=s(this);if(e)return e;if(this._bodyBlob)return _(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=s(this);return e?e:Promise.resolve(this._bodyText)},d.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function c(e){var t=e.toUpperCase();return m.indexOf(t)>-1?t:e}function u(e,t){t=t||{};var n=t.body;if(u.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=c(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function p(e){var t=new i,n=(e.getAllResponseHeaders()||"").trim().split("\n");return n.forEach(function(e){var n=e.trim().split(":"),r=n.shift().trim(),i=n.join(":").trim();t.append(r,i)}),t}function f(e,t){t||(t={}),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof i?t.headers:new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var d={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];i||(i=[],this.map[e]=i),i.push(r)},i.prototype["delete"]=function(e){delete this.map[t(e)]},i.prototype.get=function(e){var n=this.map[t(e)];return n?n[0]:null},i.prototype.getAll=function(e){return this.map[t(e)]||[]},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=[n(r)]},i.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(r){e.call(t,r,n,this)},this)},this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},d.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];u.prototype.clone=function(){return new u(this)},l.call(u.prototype),l.call(f.prototype),f.prototype.clone=function(){return new f(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},f.error=function(){var e=new f(null,{status:0,statusText:""});return e.type="error",e};var y=[301,302,303,307,308];f.redirect=function(e,t){if(-1===y.indexOf(t))throw new RangeError("Invalid status code");return new f(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=u,e.Response=f,e.fetch=function(e,t){return new Promise(function(n,r){function i(){return"responseURL"in a?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):void 0}var s;s=u.prototype.isPrototypeOf(e)&&!t?e:new u(e,t);var a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:p(a),url:i()},t="response"in a?a.response:a.responseText;n(new f(t,e))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(s.method,s.url,!0),"include"===s.credentials&&(a.withCredentials=!0),"responseType"in a&&d.blob&&(a.responseType="blob"),s.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send("undefined"==typeof s._bodyInit?null:s._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this),e.exports=self.fetch},649:function(e,t,n){var r,i;!function(){function n(e,t){function r(){return E=e.charAt(++g),E||""}function i(t){var n="",i=g;return t&&o(),n=e.charAt(g+1)||"",g=i-1,r(),n}function s(t){for(var n=g;r();)if("\\"===E)r();else{if(-1!==t.indexOf(E))break;if("\n"===E)break}return e.substring(n,g+1)}function a(e){var t=g,n=s(e);return g=t-1,r(),n}function o(){for(var e="";w.test(i());)r(),e+=E;return e}function _(){var e="";for(E&&w.test(E)&&(e=E);w.test(r());)e+=E;return e}function l(t){var n=g;for(t="/"===i(),r();r();){if(!t&&"*"===E&&"/"===i()){r();break}if(t&&"\n"===E)return e.substring(n,g)}return e.substring(n,g)+E}function c(t){return e.substring(g-t.length,g).toLowerCase()===t}function u(){for(var t=0,n=g+1;n<e.length;n++){var r=e.charAt(n);if("{"===r)return!0;if("("===r)t+=1;else if(")"===r){if(0===t)return!1;t-=1}else if(";"===r||"}"===r)return!1}return!1}function h(){K++,R+=S}function p(){K--,R=R.slice(0,-f)}t=t||{},e=e||"",e=e.replace(/\r\n|[\r\u2028\u2029]/g,"\n");var f=t.indent_size||4,d=t.indent_char||" ",m=void 0===t.selector_separator_newline?!0:t.selector_separator_newline,y=void 0===t.end_with_newline?!1:t.end_with_newline,T=void 0===t.newline_between_rules?!0:t.newline_between_rules,b=void 0===t.space_around_selector_separator?!1:t.space_around_selector_separator,v=t.eol?t.eol:"\n";"string"==typeof f&&(f=parseInt(f,10)),t.indent_with_tabs&&(d="	",f=1),v=v.replace(/\\r/,"\r").replace(/\\n/,"\n");var E,w=/^\s+$/,g=-1,x=0,R=e.match(/^[\t ]*/)[0],S=new Array(f+1).join(d),K=0,O=0,A={};A["{"]=function(e){A.singleSpace(),k.push(e),A.newLine()},A["}"]=function(e){A.newLine(),k.push(e),A.newLine()},A._lastCharWhitespace=function(){return w.test(k[k.length-1])},A.newLine=function(e){k.length&&(e||"\n"===k[k.length-1]||A.trim(),k.push("\n"),R&&k.push(R))},A.singleSpace=function(){k.length&&!A._lastCharWhitespace()&&k.push(" ")},A.preserveSingleSpace=function(){I&&A.singleSpace()},A.trim=function(){for(;A._lastCharWhitespace();)k.pop()};for(var k=[],D=!1,L=!1,N=!1,C="",P="";;){var B=_(),I=""!==B,j=-1!==B.indexOf("\n");if(P=C,C=E,!E)break;if("/"===E&&"*"===i()){var U=0===K;(j||U)&&A.newLine(),k.push(l()),A.newLine(),U&&A.newLine(!0)}else if("/"===E&&"/"===i())j||"{"===P||A.trim(),A.singleSpace(),k.push(l()),A.newLine();else if("@"===E)if(A.preserveSingleSpace(),"{"===i())k.push(s("}"));else{k.push(E);var M=a(": ,;{}()[]/='\"");M.match(/[ :]$/)&&(r(),M=s(": ").replace(/\s$/,""),k.push(M),A.singleSpace()),M=M.replace(/\s$/,""),M in n.NESTED_AT_RULE&&(O+=1,M in n.CONDITIONAL_GROUP_RULE&&(N=!0))}else"#"===E&&"{"===i()?(A.preserveSingleSpace(),k.push(s("}"))):"{"===E?"}"===i(!0)?(o(),r(),A.singleSpace(),k.push("{}"),A.newLine(),T&&0===K&&A.newLine(!0)):(h(),A["{"](E),N?(N=!1,D=K>O):D=K>=O):"}"===E?(p(),A["}"](E),D=!1,L=!1,O&&O--,T&&0===K&&A.newLine(!0)):":"===E?(o(),!D&&!N||c("&")||u()?":"===i()?(r(),k.push("::")):k.push(":"):(L=!0,k.push(":"),A.singleSpace())):'"'===E||"'"===E?(A.preserveSingleSpace(),k.push(s(E))):";"===E?(L=!1,k.push(E),A.newLine()):"("===E?c("url")?(k.push(E),o(),r()&&(")"!==E&&'"'!==E&&"'"!==E?k.push(s(")")):g--)):(x++,A.preserveSingleSpace(),k.push(E),o()):")"===E?(k.push(E),x--):","===E?(k.push(E),o(),m&&!L&&1>x?A.newLine():A.singleSpace()):">"===E||"+"===E||"~"===E?b&&!L&&1>x?(A.singleSpace(),k.push(E),A.singleSpace()):k.push(E):"]"===E?k.push(E):"["===E?(A.preserveSingleSpace(),k.push(E)):"="===E?(o(),E="=",k.push(E)):(A.preserveSingleSpace(),k.push(E))}var V="";return R&&(V+=R),V+=k.join("").replace(/[\r\n\t ]+$/,""),y&&(V+="\n"),"\n"!==v&&(V=V.replace(/[\n]/g,v)),V}n.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},n.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0},r=[],i=function(){return{css_beautify:n}}.apply(t,r),!(void 0!==i&&(e.exports=i))}()},650:function(e,t,n){var r,i;Object.values||(Object.values=function(e){if(e!==Object(e))throw new TypeError("Object.values called on a non-object");var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(e[t]);return n}),function(){function n(e,t){function n(e,t){for(var n=0;n<t.length;n+=1)if(t[n]===e)return!0;return!1}function r(e){return e.replace(/^\s+|\s+$/g,"")}function i(e){return e.replace(/^\s+/g,"")}function s(e){e=e||u.before_newline;var t=Object.values(u);if(!n(e,t))throw new Error("Invalid Option Value: The option 'operator_position' must be one of the following values\n"+t+"\nYou passed in: '"+e+"'");return e}function a(e,t){"use strict";function a(e,t){var n=0;e&&(n=e.indentation_level,!X.just_added_newline()&&e.line_indent_level>n&&(n=e.line_indent_level));var r={mode:t,parent:e,last_text:e?e.last_text:"",last_word:e?e.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,line_indent_level:e?e.line_indent_level:n,start_line_index:X.get_line_number(),ternary_depth:0};return r}function o(e){var t=e.newlines,n=ie.keep_array_indentation&&w(J.mode);if(n)for(var r=0;t>r;r+=1)m(r>0);else if(ie.max_preserve_newlines&&t>ie.max_preserve_newlines&&(t=ie.max_preserve_newlines),ie.preserve_newlines&&e.newlines>1){m();for(var i=1;t>i;i+=1)m(!0)}$=e,re[$.type]()}function f(e){e=e.replace(c.allLineBreaks,"\n");for(var t=[],n=e.indexOf("\n");-1!==n;)t.push(e.substring(0,n)),e=e.substring(n+1),n=e.indexOf("\n");return e.length&&t.push(e),t}function d(e){if(e=void 0===e?!1:e,!X.just_added_newline()){var t=ie.preserve_newlines&&$.wanted_newline||e,r=n(J.last_text,q.positionable_operators)||n($.text,q.positionable_operators);if(r){var i=n(J.last_text,q.positionable_operators)&&n(ie.operator_position,h)||n($.text,q.positionable_operators);t=t&&i}if(t)m(!1,!0);else if(ie.wrap_line_length){if("TK_RESERVED"===Q&&n(J.last_text,_e))return;var s=X.current_line.get_character_count()+$.text.length+(X.space_before_token?1:0);s>=ie.wrap_line_length&&m(!1,!0)}}}function m(e,t){if(!t&&";"!==J.last_text&&","!==J.last_text&&"="!==J.last_text&&"TK_OPERATOR"!==Q)for(;J.mode===p.Statement&&!J.if_block&&!J.do_block;)x();X.add_new_line(e)&&(J.multiline_frame=!0)}function y(){X.just_added_newline()&&(ie.keep_array_indentation&&w(J.mode)&&$.wanted_newline?(X.current_line.push($.whitespace_before),X.space_before_token=!1):X.set_indent(J.indentation_level)&&(J.line_indent_level=J.indentation_level))}function T(e){if(X.raw)return void X.add_raw_token($);if(ie.comma_first&&"TK_COMMA"===Q&&X.just_added_newline()&&","===X.previous_line.last()){var t=X.previous_line.pop();X.previous_line.is_empty()&&(X.previous_line.push(t),X.trim(!0),X.current_line.pop(),X.trim()),y(),X.add_token(","),X.space_before_token=!0}e=e||$.text,y(),X.add_token(e)}function b(){J.indentation_level+=1}function v(){J.indentation_level>0&&(!J.parent||J.indentation_level>J.parent.indentation_level)&&(J.indentation_level-=1)}function E(e){J?(te.push(J),ee=J):ee=a(null,e),J=a(ee,e)}function w(e){return e===p.ArrayLiteral}function g(e){return n(e,[p.Expression,p.ForInitializer,p.Conditional])}function x(){te.length>0&&(ee=J,J=te.pop(),ee.mode===p.Statement&&X.remove_redundant_indentation(ee))}function R(){return J.parent.mode===p.ObjectLiteral&&J.mode===p.Statement&&(":"===J.last_text&&0===J.ternary_depth||"TK_RESERVED"===Q&&n(J.last_text,["get","set"]))}function S(){return"TK_RESERVED"===Q&&n(J.last_text,["var","let","const"])&&"TK_WORD"===$.type||"TK_RESERVED"===Q&&"do"===J.last_text||"TK_RESERVED"===Q&&n(J.last_text,["return","throw"])&&!$.wanted_newline||"TK_RESERVED"===Q&&"else"===J.last_text&&("TK_RESERVED"!==$.type||"if"!==$.text)||"TK_END_EXPR"===Q&&(ee.mode===p.ForInitializer||ee.mode===p.Conditional)||"TK_WORD"===Q&&J.mode===p.BlockStatement&&!J.in_case&&"--"!==$.text&&"++"!==$.text&&"function"!==Y&&"TK_WORD"!==$.type&&"TK_RESERVED"!==$.type||J.mode===p.ObjectLiteral&&(":"===J.last_text&&0===J.ternary_depth||"TK_RESERVED"===Q&&n(J.last_text,["get","set"]))?(E(p.Statement),b(),"TK_RESERVED"===Q&&n(J.last_text,["var","let","const"])&&"TK_WORD"===$.type&&(J.declaration_statement=!0),R()||d("TK_RESERVED"===$.type&&n($.text,["do","for","if","while"])),!0):!1}function K(e,t){for(var n=0;n<e.length;n++){var i=r(e[n]);if(i.charAt(0)!==t)return!1}return!0}function O(e,t){for(var n,r=0,i=e.length;i>r;r++)if(n=e[r],n&&0!==n.indexOf(t))return!1;return!0}function A(e){return n(e,["case","return","do","if","throw","else"])}function k(e){var t=H+(e||0);return 0>t||t>=se.length?null:se[t]}function D(){S();var e=p.Expression;if("["===$.text){if("TK_WORD"===Q||")"===J.last_text)return"TK_RESERVED"===Q&&n(J.last_text,q.line_starters)&&(X.space_before_token=!0),E(e),T(),b(),void(ie.space_in_paren&&(X.space_before_token=!0));e=p.ArrayLiteral,w(J.mode)&&("["!==J.last_text&&(","!==J.last_text||"]"!==Y&&"}"!==Y)||ie.keep_array_indentation||m())}else"TK_RESERVED"===Q&&"for"===J.last_text?e=p.ForInitializer:"TK_RESERVED"===Q&&n(J.last_text,["if","while"])&&(e=p.Conditional);";"===J.last_text||"TK_START_BLOCK"===Q?m():"TK_END_EXPR"===Q||"TK_START_EXPR"===Q||"TK_END_BLOCK"===Q||"."===J.last_text?d($.wanted_newline):"TK_RESERVED"===Q&&"("===$.text||"TK_WORD"===Q||"TK_OPERATOR"===Q?"TK_RESERVED"===Q&&("function"===J.last_word||"typeof"===J.last_word)||"*"===J.last_text&&"function"===Y?ie.space_after_anon_function&&(X.space_before_token=!0):"TK_RESERVED"!==Q||!n(J.last_text,q.line_starters)&&"catch"!==J.last_text||ie.space_before_conditional&&(X.space_before_token=!0):X.space_before_token=!0,"("===$.text&&"TK_RESERVED"===Q&&"await"===J.last_word&&(X.space_before_token=!0),"("===$.text&&("TK_EQUALS"!==Q&&"TK_OPERATOR"!==Q||R()||d()),"("===$.text&&"TK_WORD"!==Q&&"TK_RESERVED"!==Q&&d(),E(e),T(),ie.space_in_paren&&(X.space_before_token=!0),b()}function L(){for(;J.mode===p.Statement;)x();J.multiline_frame&&d("]"===$.text&&w(J.mode)&&!ie.keep_array_indentation),ie.space_in_paren&&("TK_START_EXPR"!==Q||ie.space_in_empty_paren?X.space_before_token=!0:(X.trim(),X.space_before_token=!1)),"]"===$.text&&ie.keep_array_indentation?(T(),x()):(x(),T()),X.remove_redundant_indentation(ee),J.do_while&&ee.mode===p.Conditional&&(ee.mode=p.Expression,J.do_block=!1,J.do_while=!1)}function N(){var e=k(1),t=k(2);E(t&&(n(t.text,[":",","])&&n(e.type,["TK_STRING","TK_WORD","TK_RESERVED"])||n(e.text,["get","set"])&&n(t.type,["TK_WORD","TK_RESERVED"]))?n(Y,["class","interface"])?p.BlockStatement:p.ObjectLiteral:"TK_OPERATOR"===Q&&"=>"===J.last_text?p.BlockStatement:n(Q,["TK_EQUALS","TK_START_EXPR","TK_COMMA","TK_OPERATOR"])||"TK_RESERVED"===Q&&n(J.last_text,["return","throw","import"])?p.ObjectLiteral:p.BlockStatement);var r=!e.comments_before.length&&"}"===e.text,i=r&&"function"===J.last_word&&"TK_END_EXPR"===Q;if("expand"===ie.brace_style||"none"===ie.brace_style&&$.wanted_newline)"TK_OPERATOR"!==Q&&(i||"TK_EQUALS"===Q||"TK_RESERVED"===Q&&A(J.last_text)&&"else"!==J.last_text)?X.space_before_token=!0:m(!1,!0);else{if("collapse-preserve-inline"===ie.brace_style){var s=0,a=null;J.inline_frame=!0;do if(s+=1,a=k(s),a.wanted_newline){J.inline_frame=!1;break}while("TK_EOF"!==a.type&&("TK_END_BLOCK"!==a.type||a.opened!==$))}!w(ee.mode)||"TK_START_EXPR"!==Q&&"TK_COMMA"!==Q?"TK_OPERATOR"!==Q&&"TK_START_EXPR"!==Q&&("TK_START_BLOCK"===Q?m():X.space_before_token=!0):(("TK_COMMA"===Q||ie.space_in_paren)&&(X.space_before_token=!0),"collapse-preserve-inline"===ie.brace_style&&("TK_COMMA"===Q||"TK_START_EXPR"===Q&&J.inline_frame)&&(d(),ee.multiline_frame=ee.multiline_frame||J.multiline_frame,J.multiline_frame=!1))}T(),b()}function C(){for(;J.mode===p.Statement;)x();var e="TK_START_BLOCK"===Q;"expand"===ie.brace_style?e||m():e||(J.inline_frame?X.space_before_token=!0:w(J.mode)&&ie.keep_array_indentation?(ie.keep_array_indentation=!1,m(),ie.keep_array_indentation=!0):m()),x(),T()}function P(){if("TK_RESERVED"===$.type)if(n($.text,["set","get"])&&J.mode!==p.ObjectLiteral)$.type="TK_WORD";else if(n($.text,["as","from"])&&!J.import_block)$.type="TK_WORD";else if(J.mode===p.ObjectLiteral){var e=k(1);":"===e.text&&($.type="TK_WORD")}if(S()||!$.wanted_newline||g(J.mode)||"TK_OPERATOR"===Q&&"--"!==J.last_text&&"++"!==J.last_text||"TK_EQUALS"===Q||!ie.preserve_newlines&&"TK_RESERVED"===Q&&n(J.last_text,["var","let","const","set","get"])||m(),J.do_block&&!J.do_while){if("TK_RESERVED"===$.type&&"while"===$.text)return X.space_before_token=!0,T(),X.space_before_token=!0,void(J.do_while=!0);m(),J.do_block=!1}if(J.if_block)if(J.else_block||"TK_RESERVED"!==$.type||"else"!==$.text){for(;J.mode===p.Statement;)x();J.if_block=!1,J.else_block=!1}else J.else_block=!0;if("TK_RESERVED"===$.type&&("case"===$.text||"default"===$.text&&J.in_case_statement))return m(),(J.case_body||ie.jslint_happy)&&(v(),J.case_body=!1),T(),J.in_case=!0,void(J.in_case_statement=!0);if("TK_RESERVED"===$.type&&"function"===$.text&&((n(J.last_text,["}",";"])||X.just_added_newline()&&!n(J.last_text,["[","{",":","=",","]))&&(X.just_added_blankline()||$.comments_before.length||(m(),m(!0))),"TK_RESERVED"===Q||"TK_WORD"===Q?"TK_RESERVED"===Q&&n(J.last_text,["get","set","new","return","export","async"])?X.space_before_token=!0:"TK_RESERVED"===Q&&"default"===J.last_text&&"export"===Y?X.space_before_token=!0:m():"TK_OPERATOR"===Q||"="===J.last_text?X.space_before_token=!0:(J.multiline_frame||!g(J.mode)&&!w(J.mode))&&m()),"TK_COMMA"!==Q&&"TK_START_EXPR"!==Q&&"TK_EQUALS"!==Q&&"TK_OPERATOR"!==Q||R()||d(),"TK_RESERVED"===$.type&&n($.text,["function","get","set"]))return T(),void(J.last_word=$.text);if(ne="NONE","TK_END_BLOCK"===Q?"TK_RESERVED"===$.type&&n($.text,["else","catch","finally","from"])?"expand"===ie.brace_style||"end-expand"===ie.brace_style||"none"===ie.brace_style&&$.wanted_newline?ne="NEWLINE":(ne="SPACE",X.space_before_token=!0):ne="NEWLINE":"TK_SEMICOLON"===Q&&J.mode===p.BlockStatement?ne="NEWLINE":"TK_SEMICOLON"===Q&&g(J.mode)?ne="SPACE":"TK_STRING"===Q?ne="NEWLINE":"TK_RESERVED"===Q||"TK_WORD"===Q||"*"===J.last_text&&"function"===Y?ne="SPACE":"TK_START_BLOCK"===Q?ne=J.inline_frame?"SPACE":"NEWLINE":"TK_END_EXPR"===Q&&(X.space_before_token=!0,ne="NEWLINE"),"TK_RESERVED"===$.type&&n($.text,q.line_starters)&&")"!==J.last_text&&(ne="else"===J.last_text||"export"===J.last_text?"SPACE":"NEWLINE"),"TK_RESERVED"===$.type&&n($.text,["else","catch","finally"]))if("TK_END_BLOCK"!==Q||ee.mode!==p.BlockStatement||"expand"===ie.brace_style||"end-expand"===ie.brace_style||"none"===ie.brace_style&&$.wanted_newline)m();else{X.trim(!0);var t=X.current_line;"}"!==t.last()&&m(),X.space_before_token=!0}else"NEWLINE"===ne?"TK_RESERVED"===Q&&A(J.last_text)?X.space_before_token=!0:"TK_END_EXPR"!==Q?"TK_START_EXPR"===Q&&"TK_RESERVED"===$.type&&n($.text,["var","let","const"])||":"===J.last_text||("TK_RESERVED"===$.type&&"if"===$.text&&"else"===J.last_text?X.space_before_token=!0:m()):"TK_RESERVED"===$.type&&n($.text,q.line_starters)&&")"!==J.last_text&&m():J.multiline_frame&&w(J.mode)&&","===J.last_text&&"}"===Y?m():"SPACE"===ne&&(X.space_before_token=!0);T(),J.last_word=$.text,"TK_RESERVED"===$.type&&("do"===$.text?J.do_block=!0:"if"===$.text?J.if_block=!0:"import"===$.text?J.import_block=!0:J.import_block&&"TK_RESERVED"===$.type&&"from"===$.text&&(J.import_block=!1))}function B(){for(S()&&(X.space_before_token=!1);J.mode===p.Statement&&!J.if_block&&!J.do_block;)x();J.import_block&&(J.import_block=!1),T()}function I(){S()?X.space_before_token=!0:"TK_RESERVED"===Q||"TK_WORD"===Q||J.inline_frame?X.space_before_token=!0:"TK_COMMA"===Q||"TK_START_EXPR"===Q||"TK_EQUALS"===Q||"TK_OPERATOR"===Q?R()||d():m(),T()}function j(){S(),J.declaration_statement&&(J.declaration_assignment=!0),X.space_before_token=!0,T(),X.space_before_token=!0}function U(){T(),X.space_before_token=!0,J.declaration_statement?(g(J.parent.mode)&&(J.declaration_assignment=!1),J.declaration_assignment?(J.declaration_assignment=!1,m(!1,!0)):ie.comma_first&&d()):J.mode===p.ObjectLiteral||J.mode===p.Statement&&J.parent.mode===p.ObjectLiteral?(J.mode===p.Statement&&x(),J.inline_frame||m()):ie.comma_first&&d()}function M(){if(S(),"TK_RESERVED"===Q&&A(J.last_text))return X.space_before_token=!0,void T();if("*"===$.text&&"TK_DOT"===Q)return void T();if("::"===$.text)return void T();if("TK_OPERATOR"===Q&&n(ie.operator_position,h)&&d(),":"===$.text&&J.in_case)return J.case_body=!0,b(),T(),m(),void(J.in_case=!1);var e=!0,t=!0,r=!1,i="*"===$.text&&"TK_RESERVED"===Q&&"function"===J.last_text,s=n($.text,["-","+"])&&(n(Q,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||n(J.last_text,q.line_starters)||","===J.last_text);if(":"===$.text?0===J.ternary_depth?e=!1:(J.ternary_depth-=1,r=!0):"?"===$.text&&(J.ternary_depth+=1),!s&&!i&&ie.preserve_newlines&&n($.text,q.positionable_operators)){var a=":"===$.text,o=a&&r,_=a&&!r;switch(ie.operator_position){case u.before_newline:return X.space_before_token=!_,T(),a&&!o||d(),void(X.space_before_token=!0);case u.after_newline:return X.space_before_token=!0,!a||o?k(1).wanted_newline?m(!1,!0):d():X.space_before_token=!1,T(),void(X.space_before_token=!0);case u.preserve_newline:return _||d(),e=!(X.just_added_newline()||_),X.space_before_token=e,T(),void(X.space_before_token=!0)}}n($.text,["--","++","!","~"])||s?(e=!1,t=!1,!$.wanted_newline||"--"!==$.text&&"++"!==$.text||m(!1,!0),";"===J.last_text&&g(J.mode)&&(e=!0),"TK_RESERVED"===Q?e=!0:"TK_END_EXPR"===Q?e=!("]"===J.last_text&&("--"===$.text||"++"===$.text)):"TK_OPERATOR"===Q&&(e=n($.text,["--","-","++","+"])&&n(J.last_text,["--","-","++","+"]),n($.text,["+","-"])&&n(J.last_text,["--","++"])&&(t=!0)),(J.mode!==p.BlockStatement||J.inline_frame)&&J.mode!==p.Statement||"{"!==J.last_text&&";"!==J.last_text||m()):i&&(e=!1,t=!1),X.space_before_token=X.space_before_token||e,T(),X.space_before_token=t}function V(){if(X.raw)return X.add_raw_token($),void($.directives&&"end"===$.directives.preserve&&(X.raw=ie.test_output_raw));if($.directives)return m(!1,!0),T(),"start"===$.directives.preserve&&(X.raw=!0),void m(!1,!0);if(!c.newline.test($.text)&&!$.wanted_newline)return X.space_before_token=!0,T(),void(X.space_before_token=!0);var e,t=f($.text),n=!1,r=!1,s=$.whitespace_before,a=s.length;for(m(!1,!0),t.length>1&&(n=K(t.slice(1),"*"),r=O(t.slice(1),s)),T(t[0]),e=1;e<t.length;e++)m(!1,!0),n?T(" "+i(t[e])):r&&t[e].length>a?T(t[e].substring(a)):X.add_token(t[e]);m(!1,!0)}function F(){$.wanted_newline?m(!1,!0):X.trim(!0),X.space_before_token=!0,T(),m(!1,!0)}function G(){S(),"TK_RESERVED"===Q&&A(J.last_text)?X.space_before_token=!0:d(")"===J.last_text&&ie.break_chained_methods),T()}function W(){T(),"\n"===$.text[$.text.length-1]&&m()}function z(){for(;J.mode===p.Statement;)x()}var X,H,q,$,Q,Y,Z,J,ee,te,ne,re,ie,se=[],ae="";for(re={TK_START_EXPR:D,TK_END_EXPR:L,TK_START_BLOCK:N,TK_END_BLOCK:C,TK_WORD:P,TK_RESERVED:P,TK_SEMICOLON:B,TK_STRING:I,TK_EQUALS:j,TK_OPERATOR:M,TK_COMMA:U,TK_BLOCK_COMMENT:V,TK_COMMENT:F,TK_DOT:G,TK_UNKNOWN:W,TK_EOF:z},t=t?t:{},ie={},void 0!==t.braces_on_own_line&&(ie.brace_style=t.braces_on_own_line?"expand":"collapse"),ie.brace_style=t.brace_style?t.brace_style:ie.brace_style?ie.brace_style:"collapse","expand-strict"===ie.brace_style&&(ie.brace_style="expand"),ie.indent_size=t.indent_size?parseInt(t.indent_size,10):4,ie.indent_char=t.indent_char?t.indent_char:" ",ie.eol=t.eol?t.eol:"auto",ie.preserve_newlines=void 0===t.preserve_newlines?!0:t.preserve_newlines,ie.break_chained_methods=void 0===t.break_chained_methods?!1:t.break_chained_methods,ie.max_preserve_newlines=void 0===t.max_preserve_newlines?0:parseInt(t.max_preserve_newlines,10),ie.space_in_paren=void 0===t.space_in_paren?!1:t.space_in_paren,ie.space_in_empty_paren=void 0===t.space_in_empty_paren?!1:t.space_in_empty_paren,ie.jslint_happy=void 0===t.jslint_happy?!1:t.jslint_happy,ie.space_after_anon_function=void 0===t.space_after_anon_function?!1:t.space_after_anon_function,ie.keep_array_indentation=void 0===t.keep_array_indentation?!1:t.keep_array_indentation,ie.space_before_conditional=void 0===t.space_before_conditional?!0:t.space_before_conditional,ie.unescape_strings=void 0===t.unescape_strings?!1:t.unescape_strings,ie.wrap_line_length=void 0===t.wrap_line_length?0:parseInt(t.wrap_line_length,10),ie.e4x=void 0===t.e4x?!1:t.e4x,
ie.end_with_newline=void 0===t.end_with_newline?!1:t.end_with_newline,ie.comma_first=void 0===t.comma_first?!1:t.comma_first,ie.operator_position=s(t.operator_position),ie.test_output_raw=void 0===t.test_output_raw?!1:t.test_output_raw,ie.jslint_happy&&(ie.space_after_anon_function=!0),t.indent_with_tabs&&(ie.indent_char="	",ie.indent_size=1),"auto"===ie.eol&&(ie.eol="\n",e&&c.lineBreak.test(e||"")&&(ie.eol=e.match(c.lineBreak)[0])),ie.eol=ie.eol.replace(/\\r/,"\r").replace(/\\n/,"\n"),Z="";ie.indent_size>0;)Z+=ie.indent_char,ie.indent_size-=1;var oe=0;if(e&&e.length){for(;" "===e.charAt(oe)||"	"===e.charAt(oe);)ae+=e.charAt(oe),oe+=1;e=e.substring(oe)}Q="TK_START_BLOCK",Y="",X=new _(Z,ae),X.raw=ie.test_output_raw,te=[],E(p.BlockStatement),this.beautify=function(){function t(){return n=k()}var n,r;for(q=new l(e,ie,Z),se=q.tokenize(),H=0;t();){for(var i=0;i<n.comments_before.length;i++)o(n.comments_before[i]);o(n),Y=J.last_text,Q=n.type,J.last_text=n.text,H+=1}return r=X.get_code(),ie.end_with_newline&&(r+="\n"),"\n"!==ie.eol&&(r=r.replace(/[\n]/g,ie.eol)),r};var _e=["break","contiue","return","throw"]}function o(e){var t=0,n=-1,r=[],i=!0;this.set_indent=function(r){t=e.baseIndentLength+r*e.indent_length,n=r},this.get_character_count=function(){return t},this.is_empty=function(){return i},this.last=function(){return this._empty?null:r[r.length-1]},this.push=function(e){r.push(e),t+=e.length,i=!1},this.pop=function(){var e=null;return i||(e=r.pop(),t-=e.length,i=0===r.length),e},this.remove_indent=function(){n>0&&(n-=1,t-=e.indent_length)},this.trim=function(){for(;" "===this.last();)r.pop(),t-=1;i=0===r.length},this.toString=function(){var t="";return this._empty||(n>=0&&(t=e.indent_cache[n]),t+=r.join("")),t}}function _(e,t){t=t||"",this.indent_cache=[t],this.baseIndentLength=t.length,this.indent_length=e.length,this.raw=!1;var n=[];this.baseIndentString=t,this.indent_string=e,this.previous_line=null,this.current_line=null,this.space_before_token=!1,this.add_outputline=function(){this.previous_line=this.current_line,this.current_line=new o(this),n.push(this.current_line)},this.add_outputline(),this.get_line_number=function(){return n.length},this.add_new_line=function(e){return 1===this.get_line_number()&&this.just_added_newline()?!1:e||!this.just_added_newline()?(this.raw||this.add_outputline(),!0):!1},this.get_code=function(){var e=n.join("\n").replace(/[\r\n\t ]+$/,"");return e},this.set_indent=function(e){if(n.length>1){for(;e>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(e),!0}return this.current_line.set_indent(0),!1},this.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.add_outputline();this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1},this.add_token=function(e){this.add_space_before_token(),this.current_line.push(e)},this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},this.remove_redundant_indentation=function(e){if(!e.multiline_frame&&e.mode!==p.ForInitializer&&e.mode!==p.Conditional)for(var t=e.start_line_index,r=n.length;r>t;)n[t].remove_indent(),t++},this.trim=function(r){for(r=void 0===r?!1:r,this.current_line.trim(e,t);r&&n.length>1&&this.current_line.is_empty();)n.pop(),this.current_line=n[n.length-1],this.current_line.trim();this.previous_line=n.length>1?n[n.length-2]:null},this.just_added_newline=function(){return this.current_line.is_empty()},this.just_added_blankline=function(){if(this.just_added_newline()){if(1===n.length)return!0;var e=n[n.length-2];return e.is_empty()}return!1}}function l(e,t){function i(e){if(!e.match(x))return null;var t={};R.lastIndex=0;for(var n=R.exec(e);n;)t[n[1]]=n[2],n=R.exec(e);return t}function s(){var s,x=[];if(d=0,m="",b>=v)return["","TK_EOF"];var R;R=T.length?T[T.length-1]:new f("TK_START_BLOCK","{");var O=e.charAt(b);for(b+=1;n(O,o);){if(c.newline.test(O)?"\n"===O&&"\r"===e.charAt(b-2)||(d+=1,x=[]):x.push(O),b>=v)return["","TK_EOF"];O=e.charAt(b),b+=1}if(x.length&&(m=x.join("")),_.test(O)||"."===O&&_.test(e.charAt(b))){var A=!0,k=!0,D=_;for("0"===O&&v>b&&/[XxOoBb]/.test(e.charAt(b))?(A=!1,k=!1,D=/[Bb]/.test(e.charAt(b))?l:/[Oo]/.test(e.charAt(b))?u:h,O+=e.charAt(b),b+=1):"."===O?A=!1:(O="",b-=1);v>b&&D.test(e.charAt(b));)O+=e.charAt(b),b+=1,A&&v>b&&"."===e.charAt(b)?(O+=e.charAt(b),b+=1,A=!1):k&&v>b&&/[Ee]/.test(e.charAt(b))&&(O+=e.charAt(b),b+=1,v>b&&/[+-]/.test(e.charAt(b))&&(O+=e.charAt(b),b+=1),k=!1,A=!1);return[O,"TK_WORD"]}if(c.isIdentifierStart(e.charCodeAt(b-1))){if(v>b)for(;c.isIdentifierChar(e.charCodeAt(b))&&(O+=e.charAt(b),b+=1,b!==v););return"TK_DOT"===R.type||"TK_RESERVED"===R.type&&n(R.text,["set","get"])||!n(O,E)?[O,"TK_WORD"]:"in"===O?[O,"TK_OPERATOR"]:[O,"TK_RESERVED"]}if("("===O||"["===O)return[O,"TK_START_EXPR"];if(")"===O||"]"===O)return[O,"TK_END_EXPR"];if("{"===O)return[O,"TK_START_BLOCK"];if("}"===O)return[O,"TK_END_BLOCK"];if(";"===O)return[O,"TK_SEMICOLON"];if("/"===O){var L,N="";if("*"===e.charAt(b)){b+=1,w.lastIndex=b,L=w.exec(e),N="/*"+L[0],b+=L[0].length;var C=i(N);return C&&"start"===C.ignore&&(S.lastIndex=b,L=S.exec(e),N+=L[0],b+=L[0].length),N=N.replace(c.allLineBreaks,"\n"),[N,"TK_BLOCK_COMMENT",C]}if("/"===e.charAt(b))return b+=1,g.lastIndex=b,L=g.exec(e),N="//"+L[0],b+=L[0].length,[N,"TK_COMMENT"]}var P=/^<([-a-zA-Z:0-9_.]+|{.+?}|!\[CDATA\[[\s\S]*?\]\])(\s+{.+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.+?}))*\s*(\/?)\s*>/;if("`"===O||"'"===O||'"'===O||("/"===O||t.e4x&&"<"===O&&e.slice(b-1).match(P))&&("TK_RESERVED"===R.type&&n(R.text,["return","case","throw","else","do","typeof","yield"])||"TK_END_EXPR"===R.type&&")"===R.text&&R.parent&&"TK_RESERVED"===R.parent.type&&n(R.parent.text,["if","while","for"])||n(R.type,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var B=O,I=!1,j=!1;if(s=O,"/"===B)for(var U=!1;v>b&&(I||U||e.charAt(b)!==B)&&!c.newline.test(e.charAt(b));)s+=e.charAt(b),I?I=!1:(I="\\"===e.charAt(b),"["===e.charAt(b)?U=!0:"]"===e.charAt(b)&&(U=!1)),b+=1;else if(t.e4x&&"<"===B){var M=/<(\/?)([-a-zA-Z:0-9_.]+|{.+?}|!\[CDATA\[[\s\S]*?\]\])(\s+{.+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.+?}))*\s*(\/?)\s*>/g,V=e.slice(b-1),F=M.exec(V);if(F&&0===F.index){for(var G=F[2],W=0;F;){var z=!!F[1],X=F[2],H=!!F[F.length-1]||"![CDATA["===X.slice(0,8);if(X!==G||H||(z?--W:++W),0>=W)break;F=M.exec(V)}var q=F?F.index+F[0].length:V.length;return V=V.slice(0,q),b+=q-1,V=V.replace(c.allLineBreaks,"\n"),[V,"TK_STRING"]}}else{var $=function(t,n,r){for(var i;v>b&&(i=e.charAt(b),I||i!==t&&(n||!c.newline.test(i)));)(I||n)&&c.newline.test(i)?("\r"===i&&"\n"===e.charAt(b+1)&&(b+=1,i=e.charAt(b)),s+="\n"):s+=i,I?("x"!==i&&"u"!==i||(j=!0),I=!1):I="\\"===i,b+=1,r&&-1!==s.indexOf(r,s.length-r.length)&&("`"===t?$("}",n,"`"):$("`",n,"${"))};"`"===B?$("`",!0,"${"):$(B)}if(j&&t.unescape_strings&&(s=a(s)),v>b&&e.charAt(b)===B&&(s+=B,b+=1,"/"===B))for(;v>b&&c.isIdentifierStart(e.charCodeAt(b));)s+=e.charAt(b),b+=1;return[s,"TK_STRING"]}if("#"===O){if(0===T.length&&"!"===e.charAt(b)){for(s=O;v>b&&"\n"!==O;)O=e.charAt(b),s+=O,b+=1;return[r(s)+"\n","TK_UNKNOWN"]}var Q="#";if(v>b&&_.test(e.charAt(b))){do O=e.charAt(b),Q+=O,b+=1;while(v>b&&"#"!==O&&"="!==O);return"#"===O||("["===e.charAt(b)&&"]"===e.charAt(b+1)?(Q+="[]",b+=2):"{"===e.charAt(b)&&"}"===e.charAt(b+1)&&(Q+="{}",b+=2)),[Q,"TK_WORD"]}}if("<"===O&&("?"===e.charAt(b)||"%"===e.charAt(b))){K.lastIndex=b-1;var Y=K.exec(e);if(Y)return O=Y[0],b+=O.length-1,O=O.replace(c.allLineBreaks,"\n"),[O,"TK_STRING"]}if("<"===O&&"<!--"===e.substring(b-1,b+3)){for(b+=3,O="<!--";!c.newline.test(e.charAt(b))&&v>b;)O+=e.charAt(b),b++;return y=!0,[O,"TK_COMMENT"]}if("-"===O&&y&&"-->"===e.substring(b-1,b+2))return y=!1,b+=2,["-->","TK_COMMENT"];if("."===O)return[O,"TK_DOT"];if(n(O,p)){for(;v>b&&n(O+e.charAt(b),p)&&(O+=e.charAt(b),b+=1,!(b>=v)););return","===O?[O,"TK_COMMA"]:"="===O?[O,"TK_EQUALS"]:[O,"TK_OPERATOR"]}return[O,"TK_UNKNOWN"]}function a(e){for(var t,n=!1,r="",i=0,s="",a=0;n||i<e.length;)if(t=e.charAt(i),i++,n){if(n=!1,"x"===t)s=e.substr(i,2),i+=2;else{if("u"!==t){r+="\\"+t;continue}s=e.substr(i,4),i+=4}if(!s.match(/^[0123456789abcdefABCDEF]+$/))return e;if(a=parseInt(s,16),a>=0&&32>a){r+="x"===t?"\\x"+s:"\\u"+s;continue}if(34===a||39===a||92===a)r+="\\"+String.fromCharCode(a);else{if("x"===t&&a>126&&255>=a)return e;r+=String.fromCharCode(a)}}else"\\"===t?n=!0:r+=t;return r}var o="\n\r	 ".split(""),_=/[0-9]/,l=/[01]/,u=/[01234567]/,h=/[0123456789abcdefABCDEF]/;this.positionable_operators="!= !== % & && * ** + - / : < << <= == === > >= >> >>> ? ^ | ||".split(" ");var p=this.positionable_operators.concat("! %= &= *= **= ++ += , -- -= /= :: <<= = => >>= >>>= ^= |= ~".split(" "));this.line_starters="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(",");var d,m,y,T,b,v,E=this.line_starters.concat(["do","in","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),w=/([\s\S]*?)((?:\*\/)|$)/g,g=/([^\n\r\u2028\u2029]*)/g,x=/\/\* beautify( \w+[:]\w+)+ \*\//g,R=/ (\w+)[:](\w+)/g,S=/([\s\S]*?)((?:\/\*\sbeautify\signore:end\s\*\/)|$)/g,K=/((<\?php|<\?=)[\s\S]*?\?>)|(<%[\s\S]*?%>)/g;this.tokenize=function(){v=e.length,b=0,y=!1,T=[];for(var t,n,r,i=null,a=[],o=[];!n||"TK_EOF"!==n.type;){for(r=s(),t=new f(r[1],r[0],d,m);"TK_COMMENT"===t.type||"TK_BLOCK_COMMENT"===t.type||"TK_UNKNOWN"===t.type;)"TK_BLOCK_COMMENT"===t.type&&(t.directives=r[2]),o.push(t),r=s(),t=new f(r[1],r[0],d,m);o.length&&(t.comments_before=o,o=[]),"TK_START_BLOCK"===t.type||"TK_START_EXPR"===t.type?(t.parent=n,a.push(i),i=t):("TK_END_BLOCK"===t.type||"TK_END_EXPR"===t.type)&&i&&("]"===t.text&&"["===i.text||")"===t.text&&"("===i.text||"}"===t.text&&"{"===i.text)&&(t.parent=i.parent,t.opened=i,i=a.pop()),T.push(t),n=t}return T}}var c={};!function(e){var t="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",n="̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿",r=new RegExp("["+t+"]"),i=new RegExp("["+t+n+"]");e.newline=/[\n\r\u2028\u2029]/,e.lineBreak=new RegExp("\r\n|"+e.newline.source),e.allLineBreaks=new RegExp(e.lineBreak.source,"g"),e.isIdentifierStart=function(e){return 65>e?36===e||64===e:91>e?!0:97>e?95===e:123>e?!0:e>=170&&r.test(String.fromCharCode(e))},e.isIdentifierChar=function(e){return 48>e?36===e:58>e?!0:65>e?!1:91>e?!0:97>e?95===e:123>e?!0:e>=170&&i.test(String.fromCharCode(e))}}(c);var u={before_newline:"before-newline",after_newline:"after-newline",preserve_newline:"preserve-newline"},h=[u.before_newline,u.preserve_newline],p={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"},f=function(e,t,n,r,i){this.type=e,this.text=t,this.comments_before=[],this.newlines=n||0,this.wanted_newline=n>0,this.whitespace_before=r||"",this.parent=i||null,this.opened=null,this.directives=null},d=new a(e,t);return d.beautify()}r=[],i=function(){return{js_beautify:n}}.apply(t,r),!(void 0!==i&&(e.exports=i))}()},651:function(e,t,n){e.exports=n(261)},652:function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return d.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function s(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function o(e){var t=new FileReader;return t.readAsArrayBuffer(e),a(t)}function _(e){var t=new FileReader;return t.readAsText(e),a(t)}function l(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(d.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(d.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(d.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(e){if(!d.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d.blob?(this.blob=function(){var e=s(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(o)},this.text=function(){var e=s(this);if(e)return e;if(this._bodyBlob)return _(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=s(this);return e?e:Promise.resolve(this._bodyText)},d.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function c(e){var t=e.toUpperCase();return m.indexOf(t)>-1?t:e}function u(e,t){t=t||{};var n=t.body;if(u.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=c(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function p(e){var t=new i,n=(e.getAllResponseHeaders()||"").trim().split("\n");return n.forEach(function(e){var n=e.trim().split(":"),r=n.shift().trim(),i=n.join(":").trim();t.append(r,i)}),t}function f(e,t){t||(t={}),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof i?t.headers:new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var d={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];i||(i=[],this.map[e]=i),i.push(r)},i.prototype["delete"]=function(e){delete this.map[t(e)]},i.prototype.get=function(e){var n=this.map[t(e)];return n?n[0]:null},i.prototype.getAll=function(e){return this.map[t(e)]||[]},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=[n(r)]},i.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(r){e.call(t,r,n,this)},this)},this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},d.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];u.prototype.clone=function(){return new u(this)},l.call(u.prototype),l.call(f.prototype),f.prototype.clone=function(){return new f(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},f.error=function(){var e=new f(null,{status:0,statusText:""});return e.type="error",e};var y=[301,302,303,307,308];f.redirect=function(e,t){if(-1===y.indexOf(t))throw new RangeError("Invalid status code");return new f(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=u,e.Response=f,e.fetch=function(e,t){return new Promise(function(n,r){function i(){return"responseURL"in a?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):void 0}var s;s=u.prototype.isPrototypeOf(e)&&!t?e:new u(e,t);var a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:p(a),url:i()},t="response"in a?a.response:a.responseText;n(new f(t,e))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(s.method,s.url,!0),"include"===s.credentials&&(a.withCredentials=!0),"responseType"in a&&d.blob&&(a.responseType="blob"),s.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send("undefined"==typeof s._bodyInit?null:s._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},667:function(e,t,n){function r(e,t,n){var r=function(t,n){return e.js_beautify(t,n)};return r.js=e.js_beautify,r.css=t.css_beautify,r.html=n.html_beautify,r.js_beautify=e.js_beautify,r.css_beautify=t.css_beautify,r.html_beautify=n.html_beautify,r}var i,s;i=[n(650),n(649),n(668)],s=function(e,t,n){return r(e,t,n)}.apply(t,i),!(void 0!==s&&(e.exports=s))},668:function(e,t,n){var r,i;!function(){function s(e){return e.replace(/^\s+/g,"")}function a(e){return e.replace(/\s+$/g,"")}function o(e,t,n,r){function i(){function e(e){var t="",n=function(n){var r=t+n.toLowerCase();t=r.length<=e.length?r:r.substr(r.length-e.length,e.length)},r=function(){return-1===t.indexOf(e)};return{add:n,doesNotMatch:r}}return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.newlines=0,this.indent_content=_,this.Utils={whitespace:"\n\r	 ".split(""),single_token:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","?php","basefont","isindex"],extra_liners:v,in_array:function(e,t){for(var n=0;n<t.length;n++)if(e===t[n])return!0;return!1}},this.is_whitespace=function(e){for(var t=0;t<e.length;t++)if(!this.Utils.in_array(e.charAt(t),this.Utils.whitespace))return!1;return!0},this.traverse_whitespace=function(){var e="";if(e=this.input.charAt(this.pos),this.Utils.in_array(e,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(e,this.Utils.whitespace);)f&&"\n"===e&&this.newlines<=d&&(this.newlines+=1),this.pos++,e=this.input.charAt(this.pos);return!0}return!1},this.space_or_wrap=function(e){return this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,e),this.print_indentation(e),!0):(this.line_char_count++,e.push(" "),!1)},this.get_content=function(){for(var e="",t=[];"<"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length)return t.length?t.join(""):["","TK_EOF"];if(this.traverse_whitespace())this.space_or_wrap(t);else{if(m){var n=this.input.substr(this.pos,3);if("{{#"===n||"{{/"===n)break;if("{{!"===n)return[this.get_tag(),"TK_TAG_HANDLEBARS_COMMENT"];if("{{"===this.input.substr(this.pos,2)&&"{{else}}"===this.get_tag(!0))break}e=this.input.charAt(this.pos),this.pos++,this.line_char_count++,t.push(e)}}return t.length?t.join(""):""},this.get_contents_to=function(e){if(this.pos===this.input.length)return["","TK_EOF"];var t="",n=new RegExp("</"+e+"\\s*>","igm");n.lastIndex=this.pos;var r=n.exec(this.input),i=r?r.index:this.input.length;return this.pos<i&&(t=this.input.substring(this.pos,i),this.pos=i),t},this.record_tag=function(e){this.tags[e+"count"]?(this.tags[e+"count"]++,this.tags[e+this.tags[e+"count"]]=this.indent_level):(this.tags[e+"count"]=1,this.tags[e+this.tags[e+"count"]]=this.indent_level),this.tags[e+this.tags[e+"count"]+"parent"]=this.tags.parent,this.tags.parent=e+this.tags[e+"count"]},this.retrieve_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!==t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]],this.tags.parent=this.tags[t+"parent"]),delete this.tags[e+this.tags[e+"count"]+"parent"],delete this.tags[e+this.tags[e+"count"]],1===this.tags[e+"count"]?delete this.tags[e+"count"]:this.tags[e+"count"]--}},this.indent_to_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!==t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]])}},this.get_tag=function(e){var t,n,r,i="",s=[],a="",o=!1,_=!0,l=this.pos,u=this.line_char_count;e=void 0!==e?e:!1;do{if(this.pos>=this.input.length)return e&&(this.pos=l,this.line_char_count=u),s.length?s.join(""):["","TK_EOF"];if(i=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(i,this.Utils.whitespace))o=!0;else{if("'"!==i&&'"'!==i||(i+=this.get_unformatted(i),o=!0),"="===i&&(o=!1),s.length&&"="!==s[s.length-1]&&">"!==i&&o){var h=this.space_or_wrap(s),f=h&&"/"!==i&&"force"!==y;if(o=!1,_||"force"!==y||"/"===i||(this.print_newline(!1,s),this.print_indentation(s),f=!0),f)for(var d=0;T>d;d++)s.push(c);for(var b=0;b<s.length;b++)if(" "===s[b]){_=!1;break}}if(m&&"<"===r&&i+this.input.charAt(this.pos)==="{{"&&(i+=this.get_unformatted("}}"),s.length&&" "!==s[s.length-1]&&"<"!==s[s.length-1]&&(i=" "+i),o=!0),"<"!==i||r||(t=this.pos-1,r="<"),m&&!r&&s.length>=2&&"{"===s[s.length-1]&&"{"===s[s.length-2]&&(t="#"===i||"/"===i||"!"===i?this.pos-3:this.pos-2,r="{"),this.line_char_count++,s.push(i),s[1]&&("!"===s[1]||"?"===s[1]||"%"===s[1])){s=[this.get_comment(t)];break}if(m&&s[1]&&"{"===s[1]&&s[2]&&"!"===s[2]){s=[this.get_comment(t)];break}if(m&&"{"===r&&s.length>2&&"}"===s[s.length-2]&&"}"===s[s.length-1])break}}while(">"!==i);var v,E,w=s.join("");v=-1!==w.indexOf(" ")?w.indexOf(" "):"{"===w.charAt(0)?w.indexOf("}"):w.indexOf(">"),E="<"!==w.charAt(0)&&m?"#"===w.charAt(2)?3:2:1;var g=w.substring(E,v).toLowerCase();return"/"===w.charAt(w.length-2)||this.Utils.in_array(g,this.Utils.single_token)?e||(this.tag_type="SINGLE"):m&&"{"===w.charAt(0)&&"else"===g?e||(this.indent_to_tag("if"),this.tag_type="HANDLEBARS_ELSE",this.indent_content=!0,this.traverse_whitespace()):this.is_unformatted(g,p)?(a=this.get_unformatted("</"+g+">",w),s.push(a),n=this.pos-1,this.tag_type="SINGLE"):"script"===g&&(-1===w.search("type")||w.search("type")>-1&&w.search(/\b(text|application)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json)/)>-1)?e||(this.record_tag(g),this.tag_type="SCRIPT"):"style"===g&&(-1===w.search("type")||w.search("type")>-1&&w.search("text/css")>-1)?e||(this.record_tag(g),this.tag_type="STYLE"):"!"===g.charAt(0)?e||(this.tag_type="SINGLE",this.traverse_whitespace()):e||("/"===g.charAt(0)?(this.retrieve_tag(g.substring(1)),this.tag_type="END"):(this.record_tag(g),"html"!==g.toLowerCase()&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace()&&this.space_or_wrap(s),this.Utils.in_array(g,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&"\n"!==this.output[this.output.length-2]&&this.print_newline(!0,this.output))),e&&(this.pos=l,this.line_char_count=u),s.join("")},this.get_comment=function(e){var t="",n=">",r=!1;this.pos=e;var i=this.input.charAt(this.pos);for(this.pos++;this.pos<=this.input.length&&(t+=i,t.charAt(t.length-1)!==n.charAt(n.length-1)||-1===t.indexOf(n));)!r&&t.length<10&&(0===t.indexOf("<![if")?(n="<![endif]>",r=!0):0===t.indexOf("<![cdata[")?(n="]]>",r=!0):0===t.indexOf("<![")?(n="]>",r=!0):0===t.indexOf("<!--")?(n="-->",r=!0):0===t.indexOf("{{!")?(n="}}",r=!0):0===t.indexOf("<?")?(n="?>",r=!0):0===t.indexOf("<%")&&(n="%>",r=!0)),i=this.input.charAt(this.pos),this.pos++;return t},this.get_unformatted=function(t,n){if(n&&-1!==n.toLowerCase().indexOf(t))return"";var r="",i="",s=!0,a=e(t);do{if(this.pos>=this.input.length)return i;if(r=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(r,this.Utils.whitespace)){if(!s){this.line_char_count--;continue}if("\n"===r||"\r"===r){i+="\n",this.line_char_count=0;continue}}i+=r,a.add(r),this.line_char_count++,s=!0,m&&"{"===r&&i.length&&"{"===i.charAt(i.length-2)&&(i+=this.get_unformatted("}}"))}while(a.doesNotMatch());return i},this.get_token=function(){var e;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var t=this.last_token.substr(7);return e=this.get_contents_to(t),"string"!=typeof e?e:[e,"TK_"+t]}if("CONTENT"===this.current_mode)return e=this.get_content(),"string"!=typeof e?e:[e,"TK_CONTENT"];if("TAG"===this.current_mode){if(e=this.get_tag(),"string"!=typeof e)return e;var n="TK_TAG_"+this.tag_type;return[e,n]}},this.get_full_indent=function(e){return e=this.indent_level+e||0,1>e?"":Array(e+1).join(this.indent_string)},this.is_unformatted=function(e,t){if(!this.Utils.in_array(e,t))return!1;if("a"!==e.toLowerCase()||!this.Utils.in_array("a",t))return!0;var n=this.get_tag(!0),r=(n||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);return!(r&&!this.Utils.in_array(r,t))},this.printer=function(e,t,n,r,i){this.input=e||"",this.input=this.input.replace(/\r\n|[\r\u2028\u2029]/g,"\n"),this.output=[],this.indent_character=t,this.indent_string="",this.indent_size=n,this.brace_style=i,this.indent_level=0,this.wrap_line_length=r,this.line_char_count=0;for(var o=0;o<this.indent_size;o++)this.indent_string+=this.indent_character;this.print_newline=function(e,t){this.line_char_count=0,t&&t.length&&(e||"\n"!==t[t.length-1])&&("\n"!==t[t.length-1]&&(t[t.length-1]=a(t[t.length-1])),t.push("\n"))},this.print_indentation=function(e){for(var t=0;t<this.indent_level;t++)e.push(this.indent_string),this.line_char_count+=this.indent_string.length},this.print_token=function(e){this.is_whitespace(e)&&!this.output.length||((e||""!==e)&&this.output.length&&"\n"===this.output[this.output.length-1]&&(this.print_indentation(this.output),e=s(e)),this.print_token_raw(e))},this.print_token_raw=function(e){this.newlines>0&&(e=a(e)),e&&""!==e&&(e.length>1&&"\n"===e.charAt(e.length-1)?(this.output.push(e.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(e));for(var t=0;t<this.newlines;t++)this.print_newline(t>0,this.output);this.newlines=0},this.indent=function(){this.indent_level++},this.unindent=function(){this.indent_level>0&&this.indent_level--}},this}var o,_,l,c,u,h,p,f,d,m,y,T,b,v,E;for(t=t||{},void 0!==t.wrap_line_length&&0!==parseInt(t.wrap_line_length,10)||void 0===t.max_char||0===parseInt(t.max_char,10)||(t.wrap_line_length=t.max_char),_=void 0===t.indent_inner_html?!1:t.indent_inner_html,l=void 0===t.indent_size?4:parseInt(t.indent_size,10),c=void 0===t.indent_char?" ":t.indent_char,h=void 0===t.brace_style?"collapse":t.brace_style,u=0===parseInt(t.wrap_line_length,10)?32786:parseInt(t.wrap_line_length||250,10),p=t.unformatted||["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","address","big","dt","ins","small","strike","tt","pre","h1","h2","h3","h4","h5","h6"],f=void 0===t.preserve_newlines?!0:t.preserve_newlines,d=f?isNaN(parseInt(t.max_preserve_newlines,10))?32786:parseInt(t.max_preserve_newlines,10):0,m=void 0===t.indent_handlebars?!1:t.indent_handlebars,y=void 0===t.wrap_attributes?"auto":t.wrap_attributes,T=isNaN(parseInt(t.wrap_attributes_indent_size,10))?l:parseInt(t.wrap_attributes_indent_size,10),b=void 0===t.end_with_newline?!1:t.end_with_newline,v="object"==typeof t.extra_liners&&t.extra_liners?t.extra_liners.concat():"string"==typeof t.extra_liners?t.extra_liners.split(","):"head,body,/html".split(","),E=t.eol?t.eol:"\n",t.indent_with_tabs&&(c="	",l=1),E=E.replace(/\\r/,"\r").replace(/\\n/,"\n"),o=new i,o.printer(e,c,l,u,h);;){var w=o.get_token();if(o.token_text=w[0],o.token_type=w[1],"TK_EOF"===o.token_type)break;switch(o.token_type){case"TK_TAG_START":o.print_newline(!1,o.output),o.print_token(o.token_text),o.indent_content&&(o.indent(),o.indent_content=!1),o.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":o.print_newline(!1,o.output),o.print_token(o.token_text),o.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"===o.last_token&&""===o.last_text){var g=o.token_text.match(/\w+/)[0],x=null;o.output.length&&(x=o.output[o.output.length-1].match(/(?:<|{{#)\s*(\w+)/)),(null===x||x[1]!==g&&!o.Utils.in_array(x[1],p))&&o.print_newline(!1,o.output)}o.print_token(o.token_text),o.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var R=o.token_text.match(/^\s*<([a-z-]+)/i);R&&o.Utils.in_array(R[1],p)||o.print_newline(!1,o.output),o.print_token(o.token_text),o.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_ELSE":for(var S=!1,K=o.output.length-1;K>=0&&"\n"!==o.output[K];K--)if(o.output[K].match(/{{#if/)){S=!0;break}S||o.print_newline(!1,o.output),o.print_token(o.token_text),o.indent_content&&(o.indent(),o.indent_content=!1),o.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_COMMENT":o.print_token(o.token_text),o.current_mode="TAG";break;case"TK_CONTENT":o.print_token(o.token_text),o.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==o.token_text){o.print_newline(!1,o.output);var O,A=o.token_text,k=1;"TK_SCRIPT"===o.token_type?O="function"==typeof n&&n:"TK_STYLE"===o.token_type&&(O="function"==typeof r&&r),"keep"===t.indent_scripts?k=0:"separate"===t.indent_scripts&&(k=-o.indent_level);var D=o.get_full_indent(k);if(O){var L=function(){this.eol="\n"};L.prototype=t;var N=new L;A=O(A.replace(/^\s*/,D),N)}else{var C=A.match(/^\s*/)[0],P=C.match(/[^\n\r]*$/)[0].split(o.indent_string).length-1,B=o.get_full_indent(k-P);A=A.replace(/^\s*/,D).replace(/\r\n|\r|\n/g,"\n"+B).replace(/\s+$/,"");
}A&&(o.print_token_raw(A),o.print_newline(!0,o.output))}o.current_mode="TAG";break;default:""!==o.token_text&&o.print_token(o.token_text)}o.last_token=o.token_type,o.last_text=o.token_text}var I=o.output.join("").replace(/[\r\n\t ]+$/,"");return b&&(I+="\n"),"\n"!==E&&(I=I.replace(/[\n]/g,E)),I}r=[n,n(650),n(649)],i=function(e){var t=n(650),r=n(649);return{html_beautify:function(e,n){return o(e,n,t.js_beautify,r.css_beautify)}}}.apply(t,r),!(void 0!==i&&(e.exports=i))}()}});